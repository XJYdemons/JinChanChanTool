# 需求文档

## 功能

### 近期开发

### 在规划中

- [ ] 一键售卖所有卡牌
- [ ] 性能优化
### 未纳入规划

- [ ] 暗黑模式
- [ ] 安卓版本
- [ ] 多语言支持
## BUG
### 已定位
### 未定位

## 更新记录

### JinChanChanTool_v4.5.1(2025.09.06)

更新内容：

**功能**

无

**BUG修复**

1. 暂时停用GPU推理。

**注意事项**

无

---

### JinChanChanTool_v4.5.0(beta)(2025.09.06)

更新内容：

**功能**

1. 新增：长按快捷键自动拿牌+刷新商店，松开快捷键自动停止。
2. 新增：拿牌方式：鼠标模拟拿牌或按键模拟拿牌（按键模拟拿牌可配合模拟器按键拿牌功能使用，以此解放鼠标）。
3. 新增：刷新商店方式：鼠标模拟刷新商店或按钮模拟刷新商店（例如模拟按键D刷新商店）。
4. 新增：OCR推理设备：CPU或GPU（处于测试阶段，未知漏洞）
5. 新增：根据云顶之弈或金铲铲之战阵容码来解析阵容。（由QQ用户”Z”编写该模块，由衷感谢！）
6. 英雄配置文件编辑器新增打开文件目录按钮。

**BUG修复**

1. 修复“璐璐”的一个识别错误“路璐”。
2. 新增多处异常捕获。

**注意事项**

无

---

### S15金铲铲助手_v4.3.0(2025.08.30)

更新内容：

**功能**

1. 新增功能：用户现在可以在程序内切换赛季英雄池了。
2. 优化英雄配置文件编辑器，现在会自动加载所有可编辑的文件供用户选择。
3. 优化OCR结果纠正列表编辑器。
4. 新增功能开关：设置-拿牌相关-避免程序与用户争夺光标控制权。
5. 新增功能开关：设置-拿牌相关-备战席满或金币不足时自动停止拿牌。
6. 新增功能开关：设置-拿牌相关-自动停止刷新商店。
7. 主窗口代码解耦。

**BUG修复**

**注意事项**

1. 旧版本（低于v4.3.0）的部分配置文件可能不再适用，若需要迁移，按以下指引进行：
   1. 现在的英雄配置文件由“HeroInfo.json”更名为"HeroData.json"，且由原来的"程序根目录/Resources/HeroInfo.json"迁移至了“程序根目录/Resources/HeroDatas”目录下的对应文件夹，该目录下的每一个文件夹都视为一个赛季英雄池，名称为文件夹名。（例如在“程序根目录/Resources/HeroDatas”目录下有一个 S15天下无双格斗大会 文件夹，则对应的HeroData.json文件应放在这个文件夹下）。
   2. 原阵容数据文件位于“程序根目录/Resources/Lineups.json”，应先将“Lineups.json”重命名为“LineUps.json”，再粘贴至“程序根目录/Resources/HeroDatas/目标赛季文件夹”（例如需要迁移S15天下无双格斗大会的阵容文件，则将“LineUps.json”粘贴至“程序根目录/Resources/HeroDatas/S15天下无双格斗大会”文件夹内即可）。

---
### S15金铲铲助手_v4.2.0(2025.08.26)
更新内容：

**功能**

1. 新增：设置-阵容相关-英雄配置文件编辑器，允许用户在程序内使用可视化GUI列表来编辑英雄配置文件。
2. 将OCR结果纠正列表从硬编码改为从本地文件读取，新增文件"根目录/Resources/CorrectionsList.json"，OCR结果纠正列表用于将OCR识别的错误结果纠正为正确英雄名称。
3. 新增：设置-识别相关-OCR结果纠正列表编辑器，允许用户在程序内使用可视化GUI列表来编辑OCR结果纠正列表文件。
4. 优化代码结构。
5. 当"根目录/Resources/images"缺少对应英雄图片时，现在会使用默认英雄图片填充（"根目录/Resources/defaultHeroIcon.png"）。

**BUG修复**

**注意事项**

---
### S15金铲铲助手_v4.1.1(2025.08.03)
更新内容：

**功能**

**BUG修复**
1. 修复勾选”金克丝“或“拉克丝”会导致误拿”金克丝“或”拉克丝“的问题。

**注意事项**

---
### S15金铲铲助手_v4.1.0(2025.07.18)
更新内容：

**功能**

1. 更新S15赛季“天下无双格斗大赛”卡池。

**BUG修复**

**注意事项**

---
### S14金铲铲助手_v4.1.0(2025.06.24)
更新内容：

**功能**

1. 可通过英雄配置文件“Resources\HeroInfo.json”设置的最大职业和特质数量由20提升至30。
2. 通过英雄配置文件“Resources\HeroInfo.json”自定义英雄时，新增英雄头像图片缺失的提示，便于定位报错原因。
3. 若阵容文件“Resources\Lineups.json”与英雄配置文件“Resources\HeroInfo.json”的英雄数量不符，则会丢弃原阵容文件创建新的阵容文件。
4. 新增设置项-阵容相关-最大阵容数量，通过该项可设置阵容下拉框显示的阵容的最大数量。

**BUG修复**

**注意事项**

---
### S14金铲铲助手_v4.0.0(2025.06.04)
更新内容：

**功能**

1. 现在每一套阵容都有三套子阵容，转阵变阵将更加灵活。
2. 展示已选择英雄的方式由文字转变为英雄头像，提高识别度。
3. 现在选择英雄不仅可以通过勾选框，还可以通过点击英雄头像来选择/取消选择。
4. 大幅度提高自动刷新商店-拿牌流程的流畅度与速度。
5. 现在可以通过职业与特质来选择英雄。
6. 现在“隐藏/召出窗口快捷键”已支持自定义。
7. 对部分组件外观进行更新。
8. 移除了对金币数量的识别（同时移除了与金币数量有关的设置）。
9. 移除了“测试”窗口，用日志系统取而代之。
10. 移除了设置-拿牌相关-操作间隔时间，目前已是最优间隔时间，无需用户再手动设置。
11. 现在当商店5张卡都被拿了后，将不会再自动刷新商店了。

**BUG修复**

1. 修复了自动刷新商店与自动拿牌同时启用时，会频繁出现漏拿需要牌的情况，现在在算法层面上保证了100%不会漏牌。
2. 现在无论是否勾选“扎克”，当商店出现“组织细胞”时，都会自动拿取。
3. 修复“布隆”的一个识别错误“布降”。
4. 修复“贾克斯”的一个识别错误“票克斯”。
5. 修复了程序在高DPI（缩放方式大于100%）的显示器中显示异常的问题。
7. 现在备战席满后或金币不足时，将不会再一直拿牌。
8. 现在当金币不足时，将不会再一直刷新商店。
12. 优化程序与用户竞争鼠标的问题。
13. 优化了日志系统。
14. 优化了程序的性能与内存占用。
15. 现在将无法再用Tab键切换程序焦点了，防止用户误操作。

**注意事项**

1. 此次更新不兼容旧版本（4.0.0之前的版本），请清洁安装。
2. 原"根目录/Logs/application.log"日志文件将更名为"根目录/Logs/Application.log"。
3. 原"根目录/Resources/lineups.json"用户自定义阵容文件将更名为"根目录/Resources/Lineups.json"，此版本的阵容文件与此前版本不再兼容。
4. “根目录/Resources/AppConfig.json”为用户设置文件，本次更新不再兼容以往版本。
5. “根目录/Resources/HeroInfo.json”为英雄数据文件，该文件有增量更新。
---
### S14金铲铲助手_v3.2.0(2025.05.04)
更新内容：

**功能**

1. 优化部分代码，减小安装包体积。
2. 提高了识别与拿牌的速度。
3. 新增了程序运行日志，日志文件位与“根目录/Logs/application.log”。
4. 菜单栏新增“帮助”选项
   - 帮助-运行日志：打开日志文件。
   - 帮助-发送反馈：能够以文字形式快捷发送反馈至开发者邮箱。

**注意事项**

1. 此次更新有部分代码被剔除，建议清洁安装。
---
### S14金铲铲助手_v3.1.0(2025.04.30)
更新内容：

**功能**

1. 优化菜单项-测试、菜单项-设置、菜单项-关于的窗口布局。
2. 用户配置文件迁移到 “{软件根目录}/Resources”。
3. 现在允许用户自行定义英雄选择器的英雄图片、英雄名字。
   - 该功能用途之一是能支持用户自行更新赛季英雄。
   - 该功能用途之二是能支持用户根据所处地区客户端语言进行本地化。
   - 该功能用途之三是能支持用户自定义英雄头像。
4. 对代码进行了重构工作，实现窗口之间的解耦，提高性能的同时提升可维护性、健壮性。
5. 以json文件的方式替代了以往版本使用.txt文件保存阵容的方式，减少不必要的文件生成。

**BUG修复**

1. 修复“烬”的一个识别错误“燃”。
2. 为菜单-测试-功能测试的“截图”与“点击”添加输入检测，若输入不合法则报错。
3. 修复“克格莫”的一个识别错误“克格菓”。

**注意事项**

1. 此次更新不兼容旧版本（3.1.0之前的版本）的阵容文件，设置文件AppConfig.cs若需迁移，请手动迁移到根目录的Resources文件夹中。尽管部分兼容，仍建议重新清洁安装。
---
### S14金铲铲助手_v3.0.0(2025.04.27)
更新内容：

**功能**

1. 新增菜单栏（位于标题栏下方（用户区顶部））。
2. 为了减少程序窗口在屏幕中的占比，将“监视”功能区与“设置”功能区分别迁移到了标题栏下方（用户区顶部）的菜单项“测试”与“设置”中。
3. 菜单栏新增“关于”项，通过该项可查看程序版本、版权信息，并附带能够跳转至作者主页和项目主页的功能。
4. 现在可以适配不同DPI（缩放方式）的显示器了，包括单显示器任意DPI、多显示器任意DPI。

**BUG修复**

1. 修复“烬”的一个识别错误“炬”。

**注意事项**

1. 此次更新对各文件改动较多，因此无论是否安装过此前的版本（2.x.x）,都请将原程序路径清理干净再进行安装。
2. 程序内部分用户输入部分没有进行输入检测，因此当输入不合法时可能导致程序崩溃，重启即可解决问题。
---
### S14金铲铲助手_v2.2.0(2025.04.24)
更新内容：

**功能**

1. 新增全局快捷键（游戏中可随时通过Home键呼出/隐藏窗口）。

**BUG修复**

1. 修复“烬”的一个识别错误“煜”。

**注意事项**

1. 此次更新改变了配置文件的结构，使用老版本（2.x.x）的用户,需要手动删除软件根目录下的“AppConfig.json”文件，否则会导致异常。
---
### S14金铲铲助手_v2.1.2(2025.04.08)
更新内容：

**功能**

1. 现在在勾选奕子“扎克”时会自动抓取商店里的“细胞组织”。
---
### S14金铲铲助手_v2.1.1(2025.03.28)
更新内容：

**功能**

1. 更新S14的所有奕子。
2. 移除异常突变相关功能。
---
### S13金铲铲助手_v2.1.0(2025.01.24)
更新内容：

**功能**

1. 新增召出、隐藏窗口功能，并添加设置内快捷键提示。
2. 现在窗口总会出现在最上层（即置顶）了。
---
### S13金铲铲助手_v2.0.0(2025.01.24)
更新内容：

此版本为2.0版本初版



